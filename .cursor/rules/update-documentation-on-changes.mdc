---
description: Update README.md files when making code changes
alwaysApply: true
---

# Update Documentation on Code Changes

After making code changes (adding, removing, renaming, or modifying files), ensure README.md files stay accurate.

## Triggers

This rule applies when you:
- Add or remove files from a folder
- Rename files or exported symbols
- Change a file's public API (exports, parameters, return types)
- Delete or move folders
- Create new folders with 2+ files

## Pass 1: Check During Changes

After each file modification:

1. **Same folder**: Check if `README.md` exists in that folder
2. **Scan for relevance**: Look for sections listing files, exports, or usage examples
3. **Update if affected**: If the README references what you changed → update it
4. **Walk up the tree**: Check parent folder's README.md, then its parent, up to project root

### For New Folders

When creating a new folder with 2+ files:
- Create a `README.md` explaining the folder's purpose
- List the files and their responsibilities
- Follow the style of existing README.md files in the project

### For Deleted Files/Folders

When removing code:
- Search README.md files for references to the deleted item
- Remove or update those references

## Pass 2: Final Verification

Before sending your final response to the user:

1. List all folders where you made changes
2. For each folder with a README.md, verify it matches the current state
3. Check each parent folder's README.md up to project root
4. Fix any documentation missed in Pass 1

## When to Update

Update a README.md if it contains:
- A list of files and you added/removed files
- Exported functions/classes and you changed exports
- Usage examples referencing modified code
- Architecture diagrams showing changed structure

## When NOT to Update

Skip if:
- The README only has high-level project description
- Your changes are internal implementation (not documented)
- The README doesn't reference anything you touched

## Quick Scan Checklist

To quickly determine if a README needs updating, look for:
- `## Files` or `## Structure` sections → check if file list changed
- `## API` or `## Exports` sections → check if exports changed
- Code blocks with `import` statements → check if paths/names changed
- Mermaid diagrams → check if flow/structure changed
